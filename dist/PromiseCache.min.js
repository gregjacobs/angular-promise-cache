/*!
 * angular-promise-cache
 * 0.1.0
 *
 * Copyright(c) 2014 
 * MIT
 *
 * 
 */
angular.module("angular-promise-cache",[]).factory("PromiseCache",function(){function a(a){angular.extend(this,a)}return a.prototype={constructor:a,maxAge:Number.POSITIVE_INFINITY,get:function(a,b){if(this.cache||(this.cache={}),"function"!=typeof b)throw new Error("`setter` arg required, and must be a function");var c=this,d=this.cache[a];if(!d){if(d=b(),!d||"function"!=typeof d.then)throw new Error("`setter` function must return a Promise object");this.cache[a]=d,d.then(null,function(){delete c.cache[a]})}return d}},a});